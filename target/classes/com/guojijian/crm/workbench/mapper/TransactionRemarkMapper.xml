<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.guojijian.crm.workbench.mapper.TransactionRemarkMapper" >
  <resultMap id="BaseResultMap" type="com.guojijian.crm.workbench.pojo.TransactionRemark" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    <id column="id" property="id" jdbcType="CHAR" />
    <result column="note_content" property="noteContent" jdbcType="VARCHAR" />
    <result column="create_by" property="createBy" jdbcType="VARCHAR" />
    <result column="create_date" property="createDate" jdbcType="CHAR" />
    <result column="edit_by" property="editBy" jdbcType="VARCHAR" />
    <result column="edit_date" property="editDate" jdbcType="CHAR" />
    <result column="edit_flag" property="editFlag" jdbcType="CHAR" />
    <result column="tran_id" property="tranId" jdbcType="CHAR" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    delete from tbl_tran_remark
    where id = #{id,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.guojijian.crm.workbench.pojo.TransactionRemark" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    insert into tbl_tran_remark (id, note_content, create_by, 
      create_date, edit_by, edit_date, 
      edit_flag, tran_id)
    values (#{id,jdbcType=CHAR}, #{noteContent,jdbcType=VARCHAR}, #{createBy,jdbcType=VARCHAR}, 
      #{createDate,jdbcType=CHAR}, #{editBy,jdbcType=VARCHAR}, #{editDate,jdbcType=CHAR}, 
      #{editFlag,jdbcType=CHAR}, #{tranId,jdbcType=CHAR})
  </insert>

  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    select id, note_content, create_by, create_date, edit_by, edit_date, edit_flag, tran_id
    from tbl_tran_remark
    where id = #{id,jdbcType=CHAR}
  </select>

  <!--int insertTransactionRemarks(List<TransactionRemark> tranList);-->
  <insert id="insertTransactionRemarks">
    INSERT INTO tbl_tran_remark(id, note_content, create_by, create_date, edit_by, edit_date,edit_flag, tran_id)
    VALUES
    <foreach collection="list" item="tran" separator=",">
      (#{tran.id},#{tran.noteContent},#{tran.createBy},#{tran.createDate},#{tran.editBy},#{tran.editDate},
      #{tran.editFlag},#{tran.tranId})
    </foreach>
  </insert>

  <!--List<TransactionRemark> selectTranRemarkById(String tranId);-->
  <select id="selectTranRemarkById" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    select tr.id, tr.note_content, u1.name create_by, tr.create_date, u2.name edit_by, tr.edit_date, tr.edit_flag
    from tbl_tran_remark tr
    JOIN tbl_user u1 ON u1.id=tr.create_by
    LEFT JOIN tbl_user u2 ON u2.id=tr.edit_by
    WHERE tran_id=#{tranId}
  </select>

  <!--int updateTranRemark(TransactionRemark transactionRemark);-->
  <update id="updateTranRemark" parameterType="com.guojijian.crm.workbench.pojo.TransactionRemark" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jan 07 09:51:42 CST 2023.
    -->
    update tbl_tran_remark
    set note_content = #{noteContent,jdbcType=VARCHAR},
    edit_by = #{editBy,jdbcType=VARCHAR},
    edit_date = #{editDate,jdbcType=CHAR},
    edit_flag = #{editFlag,jdbcType=CHAR}
    where id = #{id,jdbcType=CHAR}
  </update>

  <!--int insertTranRemark(TransactionRemark transactionRemark);-->
  <insert id="insertTranRemark">
    INSERT INTO tbl_tran_remark(id,note_content,create_by,create_date,edit_flag,tran_id) VALUES(#{id},#{noteContent},#{createBy},#{createDate},#{editFlag},#{tranId})
  </insert>

  <!--int deleteTranRemarkById(String id);-->
  <delete id="deleteTranRemarkById">
    DELETE FROM tbl_tran_remark WHERE id=#{id}
  </delete>

  <!--int deleteTranRemarkByTranId(String tranId);-->
  <delete id="deleteTranRemarkByTranId">
    DELETE FROM tbl_tran_remark
    WHERE tran_id=#{tranId}
  </delete>
</mapper>